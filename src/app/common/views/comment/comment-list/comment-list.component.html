<div class=" container comment-body">
    <div class="main row comment-form">
        <form [formGroup]="validateForm" >  
            <div class="form-row">
                <div class="col nickName">
                    <input type="text" class="form-control" formControlName="author" placeholder="昵称">
                    <div class="text-danger" *ngIf="getFormControl('author').dirty&&getFormControl('author').hasError('required')">昵称必填</div>
                </div>
                <div class="col email">
                    <input type="text" class="form-control" formControlName="email" placeholder="邮箱">
                    <div class="text-danger" *ngIf="getFormControl('email').dirty&&getFormControl('email').hasError('required')">邮箱必填</div>
                    <div class="text-danger" *ngIf="getFormControl('email').dirty&&getFormControl('email').hasError('email')">邮箱格式错误</div>
                </div>
                <div class="col url">
                    <input type="text" class="form-control" formControlName="url"placeholder="网址">
                </div>
            </div>
            <div class="form-row">
                <div class="col comment-content">
                    <textarea class="form-control" formControlName="content" id="exampleFormControlTextarea1" rows="3"></textarea>
                    <div class="text-danger" *ngIf="getFormControl('content').dirty&&getFormControl('content').hasError('required')">内容不能为空</div>
                </div>
            </div>
            <button class="btn btn-primary" type="button" (click)="submitForm($event)">回复</button>
        </form>
    </div>
    <div class="main row comment-list"> 
        <div class="col comment-list-col" *ngIf="target&&target.commentCount>0">

            <h5 class="comment-title">{{target.commentCount}}评论</h5>
            <div class="media" *ngFor="let comment of commentData?.content; let i = index" (mouseenter)="show[i]=true"  (mouseleave)="show[i]=false">
                <img class="mr-3 comment-avatar"  [src]="getNewUrl(null)" alt="Generic placeholder image">
                <div class="media-body">
                <h5 class="mt-0">{{comment.author}}</h5>
                <span>{{comment.content}}</span>
                <span class="comment-reply-a" *ngIf="show[i]"> <a  class="text-success" href="javascript:;" (click)="showReply()">回复</a></span>
                <qy-comment-child-list *ngIf="comment.replyCount>0" [parent]="comment" [target]="target"></qy-comment-child-list>
                </div>
            </div>
            <div class="row pagination-info" >
                    <div class="col">
                        <ngb-pagination size="sm" [collectionSize]="commentData?.totalElements" [disabled]="loading" [pageSize]="commentData?.size" [(page)]="pageIndex" [maxSize]="3" [rotate]="true" [directionLinks]="false" [boundaryLinks]="true" (pageChange)="loadData()"></ngb-pagination>
                    </div>
            </div>
        </div>

    </div>
</div>